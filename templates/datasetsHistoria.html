<!DOCTYPE html>
<html>
<head>
    <title>Datasets de Historia</title>
</head>
<body>
    <h1>Datasets de la historia "{{ nombre_historia }}"</h1>

    {% if error %}
        <p style="color:red">{{ error }}</p>
    {% endif %}

    {% if mensaje %}
        <p style="color:green">{{ mensaje }}</p>
    {% endif %}

    {% if datasets %}
        <h2>Lista de datasets:</h2>
        <ul>
            {% for dataset in datasets %}
                <li>
                    <strong>Nombre:</strong> {{ dataset.name }} |
                    <strong>Estado:</strong> {{ dataset.state }} |
                    <strong>ID:</strong> {{ dataset.id }}
                </li>
            {% endfor %}
        </ul>

        <h3>Ejecutar FastQC en un dataset especÃ­fico</h3>
        <form method="post">
            {% csrf_token %}
            <!-- Mantener la historia seleccionada -->
            <input type="hidden" name="nombre_historia" value="{{ nombre_historia }}">
            <label>Id del dataset:</label>
            <input type="text" name="id_dataset" required>
            <button type="submit">Ejecutar Proceso</button>
        </form>
    {% else %}
        <p>No se encontraron datasets en esta historia.</p>
    {% endif %}
</body>
</html>
